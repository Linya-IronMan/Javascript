# Promise 异步并发限制器

之前的代码扔掉，写了一个思路清晰的版本

使用 一个 Promise 作为启动器 —— 也可以写一个函数 start 启动
使用一个Promise作为结束器，这用于add方法的返回。

add 方法要求
- 异步，能够立即得到一个Promise。
- 添加的任务不能立即执行，需要等待排队
- 任务执行完毕后能够立即知晓

所以需要一个Promise，能够直接返回给调用者，并且结束时机与任务结束时机相同

- returnValue：一个挂起的Promise，在任务结束的时候，通知调用方。
- 在每一个任务结束的时候，需要根据并发条件，开启新的任务
- add函数中需要有同步代码，根据并发条件，直接执行新的任务，或者将任务存起来放到任务队列中存储